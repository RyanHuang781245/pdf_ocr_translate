<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OCR Overlay Studio - Editor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='app.css') }}" />
  </head>
  <body class="editor" data-job-id="{{ job_id }}">
    <header class="topbar">
      <div>
        <p class="eyebrow">Editing job</p>
        <h1>OCR Overlay Editor</h1>
      </div>
      <div class="topbar-actions">
        <a id="editedPdfLink" class="ghost" href="#" target="_blank" rel="noopener" style="display:none">Open edited PDF</a>
        <a class="ghost" href="{{ debug_pdf_url }}" target="_blank" rel="noopener">Open debug PDF</a>
        <button id="saveBtn" class="primary">Save edits</button>
        <button id="downloadBtn" class="ghost">Download edited PDF</button>
      </div>
    </header>
    <main class="workspace">
      <aside class="panel">
        <section>
          <h2>Selected box</h2>
          <label>
            <span>Font size</span>
            <div class="input-row">
              <input id="fontSize" type="range" min="8" max="72" value="16" />
              <input id="fontSizeNumber" type="number" min="8" max="72" value="16" />
            </div>
          </label>
          <label>
            <span>Color</span>
            <input id="fontColor" type="color" value="#1c3c5a" />
          </label>
          <div class="button-row">
            <button id="deleteBox" class="danger">Delete box</button>
          </div>
        </section>
        <section>
          <h2>Notes</h2>
          <p class="hint">
            Drag a box to move it. Click inside to edit text.
            Changes are saved to <code>out/jobs/&lt;job_id&gt;/edits.json</code>.
          </p>
        </section>
        <section>
          <h2>Status</h2>
          <p id="status" class="status">Waiting for data...</p>
        </section>
      </aside>
      <section class="canvas">
        <div class="pdf-preview">
          <object data="{{ debug_pdf_url }}" type="application/pdf">
            <p>PDF preview is unavailable. <a href="{{ debug_pdf_url }}">Download PDF</a></p>
          </object>
        </div>
        <div id="pages" class="pages"></div>
      </section>
    </main>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
  </body>
</html>
